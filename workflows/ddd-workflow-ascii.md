# DDD Workflow - Layered ASCII Diagram with Pass Hooks & Individual Steps

**Version:** 1.0.0
**Last Updated:** 2024-12-19
**Sync with:** workflows/ddd-workflow.yml

**Architecture:**
- **Top Layer:** Generic Pass Hooks (Before & Skip) - Auto-run before any pass
- **Middle Layer:** DDD Passes with Individual Steps (Scanâ†’Draftâ†’Askâ†’Sync)
- **Bottom Layer:** Generic Pass Hooks (After & Error) - Auto-run after any pass

```
ğŸš€ DDD WORKFLOW - LAYERED PASSES WITH HOOKS & INDIVIDUAL STEPS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸš€ DDD START                                  â”‚
â”‚                           [Project State?]                                 â”‚
â”‚                                                                             â”‚
â”‚  Entry Points Based on .agent3d-config.yml:                               â”‚
â”‚  â€¢ New Project      â†’ Requirements Pass (Step 0)                          â”‚
â”‚  â€¢ Existing+Changes â†’ Synchronization Pass (Step 3)                       â”‚
â”‚  â€¢ Code Review Only â†’ Code Review Pass (Step 4)                           â”‚
â”‚  â€¢ Quick Sync       â†’ Synchronization Pass (Step 3)                       â”‚
â”‚  â€¢ Documentation    â†’ Documentation Pass (Step 6)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ”§ GENERIC PASS HOOKS - BEFORE & SKIP (Top Layer)             â”‚
â”‚                                                                             â”‚
â”‚  ğŸš€ pass.before (Auto-runs before ANY pass):                              â”‚
â”‚     â€¢ Check .agent3d-config.yml configuration                             â”‚
â”‚     â€¢ Validate enabled_passes list                                        â”‚
â”‚     â€¢ Setup workspace and environment                                     â”‚
â”‚     â€¢ Initialize DDD-STATUS.md tracking                                   â”‚
â”‚     â€¢ Create execution plan branch (exec-plan/{pass-name})                â”‚
â”‚     â€¢ Log start time and pass metadata                                    â”‚
â”‚                                                                             â”‚
â”‚  â­ï¸ pass.skip (Auto-runs when ANY pass is skipped):                       â”‚
â”‚     â€¢ Log skip reason and context                                         â”‚
â”‚     â€¢ Update DDD-STATUS.md with skipped status                           â”‚
â”‚     â€¢ Maintain workflow state consistency                                 â”‚
â”‚     â€¢ Notify stakeholders of skip decision                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ¯ DDD PASSES LAYER WITH INDIVIDUAL STEPS               â”‚
â”‚                     (Based on enabled_passes in config)                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     ğŸ“‹ REQUIREMENTS PASS (Step 0)                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    SCAN     â”‚ â”‚    DRAFT    â”‚ â”‚     ASK     â”‚ â”‚    SYNC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Review    â”‚ â”‚ â€¢ Create    â”‚ â”‚ â€¢ Validate  â”‚ â”‚ â€¢ Finalize  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   existing  â”‚ â”‚   REQUIRE-  â”‚ â”‚   with      â”‚ â”‚   REQ-NNNN  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   docs      â”‚ â”‚   MENTS.md  â”‚ â”‚   stake-    â”‚ â”‚   IDs       â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Identify  â”‚ â”‚ â€¢ Assign    â”‚ â”‚   holders   â”‚ â”‚ â€¢ Get       â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   gaps      â”‚ â”‚   REQ-NNNN  â”‚ â”‚ â€¢ Clarify   â”‚ â”‚   approval  â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     ğŸ—ï¸ FOUNDATION PASS (Step 1)                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    SCAN     â”‚ â”‚    DRAFT    â”‚ â”‚     ASK     â”‚ â”‚    SYNC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Check     â”‚ â”‚ â€¢ Create    â”‚ â”‚ â€¢ Configure â”‚ â”‚ â€¢ Save      â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   require-  â”‚ â”‚   .agent3d- â”‚ â”‚   project   â”‚ â”‚   config    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   ments     â”‚ â”‚   config    â”‚ â”‚   settings  â”‚ â”‚ â€¢ Create    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Review    â”‚ â”‚ â€¢ Setup     â”‚ â”‚ â€¢ Select    â”‚ â”‚   structure â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   project   â”‚ â”‚   templates â”‚ â”‚   passes    â”‚ â”‚ â€¢ Initializeâ”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     ğŸ”¨ DEVELOPMENT PASS (Step 2)                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚  PLANNING   â”‚ â”‚IMPLEMENTAT'Nâ”‚ â”‚   TESTING   â”‚ â”‚    SYNC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Create    â”‚ â”‚ â€¢ Implement â”‚ â”‚ â€¢ Execute   â”‚ â”‚ â€¢ Validate  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   FEATURES  â”‚ â”‚   features  â”‚ â”‚   all tests â”‚ â”‚   FTâ†’TC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ FT-NNNN   â”‚ â”‚ â€¢ Add FT    â”‚ â”‚ â€¢ Check     â”‚ â”‚   links     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   IDs       â”‚ â”‚   comments  â”‚ â”‚   coverage  â”‚ â”‚ â€¢ Update    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ TC-NNNN   â”‚ â”‚ â€¢ Create    â”‚ â”‚ â€¢ Quality   â”‚ â”‚   matrix    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   test casesâ”‚ â”‚   tests     â”‚ â”‚   validationâ”‚ â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     ğŸ”„ SYNCHRONIZATION PASS (Step 3)                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    SCAN     â”‚ â”‚    DRAFT    â”‚ â”‚     ASK     â”‚ â”‚    SYNC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Scan all  â”‚ â”‚ â€¢ Generate  â”‚ â”‚ â€¢ Review    â”‚ â”‚ â€¢ Fix       â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   files for â”‚ â”‚   drift     â”‚ â”‚   drift     â”‚ â”‚   issues    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   IDs       â”‚ â”‚   report    â”‚ â”‚   issues    â”‚ â”‚ â€¢ Update    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Extract   â”‚ â”‚ â€¢ Create    â”‚ â”‚ â€¢ Validate  â”‚ â”‚   trace-    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   patterns  â”‚ â”‚   matrix    â”‚ â”‚   fixes     â”‚ â”‚   ability   â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     ğŸ‘ï¸ CODE REVIEW PASS (Step 4)                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    SCAN     â”‚ â”‚    DRAFT    â”‚ â”‚     ASK     â”‚ â”‚    SYNC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Review    â”‚ â”‚ â€¢ Generate  â”‚ â”‚ â€¢ Review    â”‚ â”‚ â€¢ Apply     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   code      â”‚ â”‚   review    â”‚ â”‚   findings  â”‚ â”‚   fixes     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Check     â”‚ â”‚   reports   â”‚ â”‚ â€¢ Validate  â”‚ â”‚ â€¢ Update    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   standards â”‚ â”‚ â€¢ Language  â”‚ â”‚   fixes     â”‚ â”‚   standards â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Test      â”‚ â”‚   specific  â”‚ â”‚ â€¢ Approve   â”‚ â”‚ â€¢ Generate  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   quality   â”‚ â”‚   checks    â”‚ â”‚   changes   â”‚ â”‚   reports   â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     â™»ï¸ REFACTORING PASS (Step 5)                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    SCAN     â”‚ â”‚    DRAFT    â”‚ â”‚     ASK     â”‚ â”‚    SYNC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Analyze   â”‚ â”‚ â€¢ Apply DRY â”‚ â”‚ â€¢ Review    â”‚ â”‚ â€¢ Verify    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   code      â”‚ â”‚   principlesâ”‚ â”‚   changes   â”‚ â”‚   tests     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Identify  â”‚ â”‚ â€¢ Horizontalâ”‚ â”‚ â€¢ Validate  â”‚ â”‚ â€¢ Update    â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   duplicat'nâ”‚ â”‚   merging   â”‚ â”‚   quality   â”‚ â”‚   docs      â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Plan      â”‚ â”‚ â€¢ Improve   â”‚ â”‚ â€¢ Test      â”‚ â”‚ â€¢ Maintain  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   improve-  â”‚ â”‚   structure â”‚ â”‚   coverage  â”‚ â”‚   ID links  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   ments     â”‚ â”‚             â”‚ â”‚             â”‚ â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     ğŸ“š DOCUMENTATION PASS (Step 6)                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    SCAN     â”‚ â”‚    DRAFT    â”‚ â”‚     ASK     â”‚ â”‚    SYNC     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Review    â”‚ â”‚ â€¢ Compress  â”‚ â”‚ â€¢ Validate  â”‚ â”‚ â€¢ Finalize  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   all docs  â”‚ â”‚   content   â”‚ â”‚   changes   â”‚ â”‚   docs      â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Identify  â”‚ â”‚ â€¢ Remove    â”‚ â”‚ â€¢ Check     â”‚ â”‚ â€¢ Generate  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   redundancyâ”‚ â”‚   redundant â”‚ â”‚   cross-    â”‚ â”‚   index     â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Plan      â”‚ â”‚   content   â”‚ â”‚   refs      â”‚ â”‚ â€¢ Validate  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   compress'nâ”‚ â”‚ â€¢ Update    â”‚ â”‚ â€¢ Test      â”‚ â”‚   rendering â”‚      â”‚ â”‚
â”‚  â”‚  â”‚             â”‚ â”‚   links     â”‚ â”‚   markdown  â”‚ â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ”§ GENERIC PASS HOOKS - AFTER & ERROR (Bottom Layer)          â”‚
â”‚                                                                             â”‚
â”‚  âœ… pass.after (Auto-runs after ANY pass completes):                      â”‚
â”‚     â€¢ Run drift scanner for validation                                    â”‚
â”‚     â€¢ Update DDD-STATUS.md with completion metrics                        â”‚
â”‚     â€¢ Calculate alignment percentage (0-100%)                             â”‚
â”‚     â€¢ Determine drift level (none/low/medium/high)                        â”‚
â”‚     â€¢ Generate pass-specific reports and artifacts                        â”‚
â”‚     â€¢ Auto-commit progress to exec-plan branch                            â”‚
â”‚     â€¢ Tag checkpoints and milestones                                      â”‚
â”‚                                                                             â”‚
â”‚  âŒ pass.error (Auto-runs when ANY pass fails):                           â”‚
â”‚     â€¢ Log detailed error information                                      â”‚
â”‚     â€¢ Update DDD-STATUS.md with error status                             â”‚
â”‚     â€¢ Cleanup partial work and temporary files                           â”‚
â”‚     â€¢ Send notifications (if configured)                                  â”‚
â”‚     â€¢ Prepare retry with error context                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ“¦ DELIVERABLES & ARTIFACTS                        â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚REQUIREMENTS â”‚ â”‚ FEATURES.md â”‚ â”‚TEST-CASES.mdâ”‚ â”‚    CODE     â”‚          â”‚
â”‚  â”‚    .md      â”‚ â”‚ FT-NNNN IDs â”‚ â”‚ TC-NNNN IDs â”‚ â”‚IMPLEMENTATIONâ”‚          â”‚
â”‚  â”‚ REQ-NNNN    â”‚ â”‚ Linked to   â”‚ â”‚ Linked to   â”‚ â”‚   & TESTS   â”‚          â”‚
â”‚  â”‚ Identifiers â”‚ â”‚ REQ-NNNN    â”‚ â”‚ FT-NNNN     â”‚ â”‚ With TC-IDs â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   DRIFT     â”‚ â”‚ DDD-STATUS  â”‚ â”‚ EXECUTION   â”‚ â”‚ TRACEABILITYâ”‚          â”‚
â”‚  â”‚  REPORTS    â”‚ â”‚    .md      â”‚ â”‚   PLANS     â”‚ â”‚   MATRIX    â”‚          â”‚
â”‚  â”‚ Multi-mode  â”‚ â”‚ Pass status â”‚ â”‚ docs/runs/  â”‚ â”‚ REQâ†”FTâ†”TC   â”‚          â”‚
â”‚  â”‚ Detection   â”‚ â”‚ Alignment % â”‚ â”‚ Checkpoints â”‚ â”‚ Validation  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                              ğŸ‰ DDD COMPLETE

DETAILED HOOK EXECUTION FLOWS:

ğŸ”„ STANDARD PASS EXECUTION (Scan â†’ Draft â†’ Ask â†’ Sync):

   1. pass.before hook auto-runs:
      â€¢ Load .agent3d-config.yml configuration
      â€¢ Check enabled_passes list for current pass
      â€¢ Validate pass dependencies and prerequisites
      â€¢ Create exec-plan/{pass-name} branch
      â€¢ Initialize DDD-STATUS.md entry for this pass
      â€¢ Setup workspace and required tools

   2. PASS EXECUTES (4-phase workflow):
      â€¢ SCAN: Review current state, identify gaps
      â€¢ DRAFT: Create/update documentation and artifacts
      â€¢ ASK: Interactive validation and clarification
      â€¢ SYNC: Finalize changes and update relationships

   3. pass.after hook auto-runs:
      â€¢ Run drift scanner for validation
      â€¢ Update DDD-STATUS.md with completion metrics
      â€¢ Calculate alignment percentage (0-100%)
      â€¢ Determine drift level (none/low/medium/high)
      â€¢ Generate pass-specific reports
      â€¢ Auto-commit progress to exec-plan branch
      â€¢ Tag checkpoints and milestones

ğŸ”€ IDENTIFIER PATTERN FLOWS:

   Foundation Pass â†’ Setup patterns in .agent3d-config.yml:
   â€¢ REQ-[A-Z]+-\d+(-[a-z])? for requirements
   â€¢ FT-[A-Z]+-\d+(-[a-z])? for features
   â€¢ TC-[A-Z]+-\d+(-[a-z])? for test cases

   Development Pass â†’ Create and link identifiers:
   â€¢ Planning: FT-NNNN â† REQ-NNNN mapping
   â€¢ Implementation: Code with FT-NNNN comments
   â€¢ Testing: TC-NNNN â† FT-NNNN mapping

   Synchronization Pass â†’ Validate relationships:
   â€¢ Scan all files for identifier patterns
   â€¢ Validate REQ â†” FT â†” TC traceability chains
   â€¢ Generate drift reports for broken links
   â€¢ Update traceability matrix

ğŸ“Š STATUS TRACKING & METRICS:

   DDD-STATUS.md tracks for each pass:
   â€¢ Status: pending/scanning/drafting/asking/syncing/complete/failed
   â€¢ Alignment: 0-100% completion percentage
   â€¢ Drift: none/low/medium/high deviation level
   â€¢ Last Execution: timestamp of last run
   â€¢ Priority: critical/high/medium/low
   â€¢ Artifacts: list of generated deliverables

   Health Indicators:
   â€¢ Critical Issues count
   â€¢ Documentation Gaps count
   â€¢ Implementation Drift level
   â€¢ Quality Score (0-100)

âš¡ CONFIGURATION-DRIVEN BEHAVIOR:

   From .agent3d-config.yml:
   â€¢ enabled_passes: Controls which passes are active
   â€¢ pass_config: Pass-specific settings and thresholds
   â€¢ git_workflow: Auto-commit and branching behavior
   â€¢ quality_level: comprehensive/strict/balanced/relaxed
   â€¢ execution_mode: comprehensive_full_pass/selective

   Hooks adapt behavior based on configuration:
   â€¢ Auto-commit frequency (checkpoint_frequency: 3)
   â€¢ Branch naming (exec-plan/{pass-name})
   â€¢ Quality thresholds and validation rules
   â€¢ Drift detection sensitivity levels
```
