metadata:
  name: "Complete Consistency Refactoring Pass"
  version: "1.0.0"
  purpose: "Comprehensive refactoring for framework-wide consistency"
  created: "2025-01-29"
  last_updated: "2025-01-29"
  mode: "complete_refactoring"
  scope: "entire_framework"

execution_control:
  auto_continue: true
  no_prompting: true
  no_confirmation: true
  fully_automated: true
  never_ask_user: true
  override_ddd_confirmation: true
  check_remaining_iterations: true
  resume_from_iteration: null
  max_iterations: 25
  force_rewrite: true
  version_tracking_enabled: true
  skip_up_to_date_files: false
  autonomous_execution: true
  zero_user_interaction: true

# PHASE 1: DIRECTORY STRUCTURE STANDARDIZATION
phase_1_directory_standardization:
  description: "Standardize directory structure and naming conventions"
  
  iterations:
    1:
      file: "guidelines/consistency-standards.yml"
      action: "validate_and_enhance"
      template: "guidelines/consistency-standards.yml"
      status: "completed"
      
    2:
      file: ".agent3d-config.yml"
      action: "update_directory_structure_references"
      template: "consistency_standards"
      status: "completed"

# PHASE 2: VERSION STANDARDIZATION
phase_2_version_standardization:
  description: "Standardize version formats across all files"
  
  iterations:
    3:
      file: "templates/FEATURE-module.template.yml"
      action: "standardize_version_format"
      template: "FEATURE-module.template.yml"
      status: "pending"
      
    4:
      file: "procedures/rewrite_procedure.yml"
      action: "standardize_version_format"
      template: "consistency_standards"
      status: "pending"
      
    5:
      file: "templates/BASE.template.yml"
      action: "standardize_version_format"
      template: "BASE.template.yml"
      status: "pending"

# PHASE 3: METADATA CONSISTENCY
phase_3_metadata_consistency:
  description: "Ensure consistent metadata structure across all files"
  
  iterations:
    6:
      file: "procedures.yml/templates.yml"
      action: "standardize_metadata"
      template: "consistency_standards"
      status: "pending"
      
    7:
      file: "procedures.yml/test-case-guidelines.yml"
      action: "standardize_metadata"
      template: "consistency_standards"
      status: "pending"
      
    8:
      file: "templates/index.yml"
      action: "standardize_metadata"
      template: "consistency_standards"
      status: "pending"

# PHASE 4: NAMING CONVENTION STANDARDIZATION
phase_4_naming_conventions:
  description: "Standardize file and directory naming conventions"
  
  iterations:
    9:
      file: "procedures.yml/core-patterns.yml"
      action: "update_naming_references"
      template: "consistency_standards"
      status: "pending"
      
    10:
      file: "tools/version_manager.py"
      action: "update_pattern_matching"
      template: "consistency_standards"
      status: "pending"

# PHASE 5: CONFIGURATION CONSISTENCY
phase_5_configuration_consistency:
  description: "Standardize configuration patterns and exclude lists"
  
  iterations:
    11:
      file: "vscode-ddd-navigator/src/extension.ts"
      action: "standardize_exclude_patterns"
      template: "consistency_standards"
      status: "pending"
      
    12:
      file: "vscode-ddd-navigator/src/index/identifierIndex.ts"
      action: "standardize_exclude_patterns"
      template: "consistency_standards"
      status: "pending"
      
    13:
      file: "tools/drift_scanner.py"
      action: "standardize_configuration_patterns"
      template: "consistency_standards"
      status: "pending"

# PHASE 6: TEMPLATE CONSISTENCY
phase_6_template_consistency:
  description: "Ensure all templates follow consistent structure and format"
  
  iterations:
    14:
      file: "templates/FEATURES.template.yml"
      action: "standardize_template_structure"
      template: "FEATURES.template.yml"
      status: "pending"
      
    15:
      file: "templates/REQUIREMENTS.template.yml"
      action: "standardize_template_structure"
      template: "REQUIREMENTS.template.yml"
      status: "pending"
      
    16:
      file: "templates/EXEC-PLAN.template.yml"
      action: "standardize_template_structure"
      template: "EXEC-PLAN.template.yml"
      status: "pending"

# PHASE 7: PROCEDURE CONSISTENCY
phase_7_procedure_consistency:
  description: "Standardize procedure file formats and structures"
  
  iterations:
    17:
      file: "procedures.yml/standards.yml"
      action: "align_with_consistency_standards"
      template: "consistency_standards"
      status: "pending"
      
    18:
      file: "procedures.yml/ft-tc-structure.yml"
      action: "standardize_procedure_format"
      template: "consistency_standards"
      status: "pending"
      
    19:
      file: "procedures.yml/drift-scanning.yml"
      action: "standardize_procedure_format"
      template: "consistency_standards"
      status: "pending"

# PHASE 8: DOCUMENTATION CONSISTENCY
phase_8_documentation_consistency:
  description: "Ensure documentation follows consistent patterns"
  
  iterations:
    20:
      file: "docs/FEATURES.md"
      action: "standardize_documentation_format"
      template: "consistency_standards"
      status: "pending"
      
    21:
      file: "README.md"
      action: "standardize_documentation_format"
      template: "consistency_standards"
      status: "pending"
      
    22:
      file: "AGENT-GUIDELINES.yml"
      action: "standardize_guidelines_format"
      template: "consistency_standards"
      status: "pending"

# PHASE 9: VALIDATION AND TESTING
phase_9_validation:
  description: "Validate consistency improvements and run tests"
  
  iterations:
    23:
      file: "tools/drift_scanner.py"
      action: "run_consistency_validation"
      template: "consistency_standards"
      status: "pending"
      
    24:
      file: "tests/test_drift_scanner.py"
      action: "update_tests_for_consistency"
      template: "consistency_standards"
      status: "pending"
      
    25:
      file: "guidelines/consistency-standards.yml"
      action: "final_validation_and_documentation"
      template: "consistency_standards"
      status: "pending"

# COMPLETION CRITERIA
completion_criteria:
  directory_structure: "All directories follow standard naming conventions"
  version_management: "All files use X.Y.Z version format"
  metadata_consistency: "All files have standardized metadata structure"
  naming_conventions: "All files follow established naming patterns"
  configuration_consistency: "All tools use consistent configuration patterns"
  template_consistency: "All templates follow standard structure"
  procedure_consistency: "All procedures use standard format"
  documentation_consistency: "All documentation follows standard patterns"
  validation_passing: "All consistency validation tests pass"

# SUCCESS METRICS
success_metrics:
  consistency_score: "95% minimum across all categories"
  template_compliance: "100% for all template files"
  naming_convention_compliance: "100% for all new files"
  metadata_standardization: "100% for all framework files"
  configuration_alignment: "100% for all tools and extensions"

# ROLLBACK PLAN
rollback_plan:
  backup_location: ".agent3d-tmp/consistency-refactoring-backup/"
  rollback_triggers:
    - "Consistency score drops below 90%"
    - "Critical functionality breaks"
    - "Template validation fails"
  rollback_process:
    - "Restore files from backup"
    - "Revert configuration changes"
    - "Re-run validation tests"
    - "Document rollback reasons"
